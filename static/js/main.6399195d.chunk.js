(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{101:function(t,e,n){"use strict";n.r(e);var c,a,r,o=n(0),s=n.n(o),i=n(10),u=n.n(i),l=n(11),b=n(7),d=n(41),j=n.n(d),f={fetchContactsRequest:Object(b.b)("contacts/fetchContactsRequest"),fetchContactsSuccess:Object(b.b)("contacts/fetchContactsSuccess"),fetchContactsError:Object(b.b)("contacts/fetchContactsError"),addContactsRequest:Object(b.b)("contacts/addContactsRequest"),addContactsSuccess:Object(b.b)("contacts/addContactsSuccess"),addContactsError:Object(b.b)("contacts/addContactsError"),deleteContactsRequest:Object(b.b)("contacts/deleteContactsRequest"),deleteContactsSuccess:Object(b.b)("contacts/deleteContactsSuccess"),deleteContactsError:Object(b.b)("contacts/deleteContactsError"),changeFilter:Object(b.b)("contacts/change_filter")},h=n(6),m=n(50),O=n(9),p=Object(b.c)([],(c={},Object(h.a)(c,f.fetchContactsSuccess,(function(t,e){return e.payload})),Object(h.a)(c,f.addContactsSuccess,(function(t,e){var n=e.payload;return[].concat(Object(m.a)(t),[n])})),Object(h.a)(c,f.deleteContactsSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),C=Object(b.c)("",Object(h.a)({},f.changeFilter,(function(t,e){return e.payload}))),g=Object(b.c)(!1,(a={},Object(h.a)(a,f.fetchContactsRequest,(function(){return!0})),Object(h.a)(a,f.fetchContactsSuccess,(function(){return!1})),Object(h.a)(a,f.fetchContactsError,(function(){return!1})),Object(h.a)(a,f.addContactsRequest,(function(){return!0})),Object(h.a)(a,f.addContactsSuccess,(function(){return!1})),Object(h.a)(a,f.addContactsError,(function(){return!1})),Object(h.a)(a,f.deleteContactsRequest,(function(){return!0})),Object(h.a)(a,f.deleteContactsSuccess,(function(){return!1})),Object(h.a)(a,f.deleteContactsError,(function(){return!1})),a)),x=Object(b.c)(null,(r={},Object(h.a)(r,f.fetchContactsError,(function(t,e){return"fetchContactsError: "+e.payload.message})),Object(h.a)(r,f.addContactsError,(function(t,e){return"addContactsError: "+e.payload.message})),Object(h.a)(r,f.deleteContactsError,(function(t,e){return"deleteContactsError: "+e.payload.message})),r)),_=Object(O.c)({items:p,filter:C,loading:g,error:x}),v=n(20),E=n.n(v);E.a.defaults.baseURL="http://localhost:4090";var y="/contacts",S=function(t){return function(e){var n={name:t.name,number:t.number};e(f.addContactsRequest()),E.a.post(y,n).then((function(t){var n=t.data;return e(f.addContactsSuccess(n))})).catch((function(t){return e(f.addContactsError(t))}))}},N=function(t){return function(e){e(f.deleteContactsRequest()),E.a.delete("".concat(y,"/").concat(t)).then((function(){return e(f.deleteContactsSuccess(t))})).catch((function(t){return e(f.deleteContactsError(t))}))}},F=function(){return function(t){t(f.fetchContactsRequest()),E.a.get(y).then((function(e){var n=e.data;return t(f.fetchContactsSuccess(n))})).catch((function(e){return t(f.fetchContactsError(e))}))}},R=n(12),L=function(t){return t.contacts.filter},I=function(t){return t.contacts.items},k={getContactsFilter:L,getContactsItems:I,getContactsLoading:function(t){return t.contacts.loading},getContactsError:function(t){return t.contacts.error},getVisibleFilterContacts:Object(R.a)([L,I],(function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},A={store:Object(b.a)({reducer:{contacts:_},middleware:function(t){return t().concat(j.a)},devTools:!0})},q=n(13),w=n(14),D=n(17),P=n(16),H=n(42),J=n.n(H),K=n(104),M=n(30),Q=n(43),z=n.n(Q),B=n(1),T=function(t){var e=t.message;return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)("p",{className:z.a.alert,children:e})})},V=(n(97),n(22)),Y=n.n(V),U=n(15),W=n.n(U),G=n(103),X=function(t){Object(D.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(q.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",alertRepetition:""},t.nameInputId=Object(K.a)(),t.numberInputId=Object(K.a)(),t.notify=function(t){return M.b.warn("\u043f\u043e\u043b\u0435 ".concat(t," \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number,r=t.props.contacts;if(c||t.notify("Name"),a||t.notify("Number"),r.find((function(t){return t.name===c})))return t.setState({alertRepetition:"".concat(c," is already in contacts!")}),void t.reset();c&&a&&t.props.onSubmitForm(t.state),t.reset()},t.handleChange=function(e){var n=e.currentTarget,c=n.name,a=n.value;t.setState(Object(h.a)({},c,a))},t.reset=function(){t.setState({name:"",number:""})},t.onResetAlert=function(){t.setState({alertRepetition:""})},t}return Object(w.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.name,c=e.number,a=e.alertRepetition;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("form",{onSubmit:this.handleSubmit,className:Y.a.container,children:[Object(B.jsxs)("label",{htmlFor:this.nameInputId,className:Y.a.item,children:["Name",Object(B.jsx)("input",{type:"text",name:"name",value:n,onChange:this.handleChange,id:this.nameInputId})]}),Object(B.jsxs)("label",{htmlFor:this.numberInputId,className:Y.a.item,children:["Number",Object(B.jsx)("input",{type:"tel",name:"number",value:c,onChange:this.handleChange,id:this.numberInputId})]}),Object(B.jsx)(M.a,{}),Object(B.jsx)("button",{type:"submit",children:"Add contact"})]}),Object(B.jsx)(G.a,{in:a.length>0,timeout:3e3,classNames:W.a,unmountOnExit:!0,onEntered:function(){return t.onResetAlert()},children:Object(B.jsx)(T,{message:a})})]})}}]),n}(o.Component),Z=Object(l.b)((function(t){return{contacts:k.getContactsItems(t)}}),(function(t){return{onSubmitForm:function(e){return t(S(e))}}}))(X),$=n(23),tt=n.n($),et=n(105),nt=function(t){Object(D.a)(n,t);var e=Object(P.a)(n);function n(){return Object(q.a)(this,n),e.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.onClickDelete;return Object(B.jsx)(et.a,{component:"ul",className:tt.a.list,children:e&&e.map((function(t){return Object(B.jsx)(G.a,{timeout:250,classNames:W.a,children:Object(B.jsxs)("li",{className:tt.a.item,children:[Object(B.jsxs)("p",{className:tt.a.contact,children:[Object(B.jsxs)("span",{children:[t.name,":"]}),Object(B.jsx)("span",{children:t.number})]}),Object(B.jsx)("button",{type:"button",onClick:function(){return n(t.id)},children:"Delete"})]},t.id)},t.id)}))})}}]),n}(o.Component),ct=Object(l.b)((function(t){return{contacts:k.getVisibleFilterContacts(t),isLoadingContact:k.getContactsLoading(t)}}),(function(t){return{onClickDelete:function(e){return t(N(e))}}}))(nt),at=n(44),rt=n.n(at),ot=Object(l.b)((function(t){return{value:k.getContactsFilter(t)}}),(function(t){return{onChange:function(e){return t(f.changeFilter(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(B.jsxs)("label",{className:rt.a.container,children:["Find contacts by name",Object(B.jsx)("input",{type:"text",value:e,onChange:n})]})})),st=n(45),it=n.n(st),ut=function(){return Object(B.jsx)("h2",{className:it.a.Logo,children:"Phonebook"})},lt=n(46),bt=n.n(lt),dt=n(47),jt=n.n(dt),ft=n(48),ht=n.n(ft),mt=bt.a.bind(jt.a),Ot=function(t){Object(D.a)(n,t);var e=Object(P.a)(n);function n(){return Object(q.a)(this,n),e.apply(this,arguments)}return Object(w.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.clearFilter,c=t.isLoadingContact;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(G.a,{in:!0,appear:!0,timeout:500,classNames:ht.a,unmountOnExit:!0,children:Object(B.jsx)(ut,{})}),Object(B.jsx)(Z,{}),Object(B.jsx)(G.a,{in:e.length>1,timeout:500,classNames:W.a,unmountOnExit:!0,onExit:function(){return n()},children:Object(B.jsx)(ot,{})}),Object(B.jsx)("h2",{className:mt("title","center"),children:"Contacts"}),c?Object(B.jsx)(J.a,{className:mt("center"),type:"Oval",color:"#1976d2",height:100,width:100,timeout:0}):Object(B.jsx)(ct,{})]})}}]),n}(o.Component),pt=Object(l.b)((function(t){return{contacts:k.getContactsItems(t),isLoadingContact:k.getContactsLoading(t),errorContacts:k.getContactsError(t)}}),(function(t){return{clearFilter:function(){return t(f.changeFilter(""))},fetchContacts:function(){return t(F())}}}))(Ot),Ct=(n(98),n(99),n(49));u.a.render(Object(B.jsx)(s.a.StrictMode,{children:Object(B.jsx)(l.a,{store:A.store,children:Object(B.jsx)(Ct.a,{children:Object(B.jsx)(pt,{})})})}),document.getElementById("root"))},15:function(t,e,n){t.exports={enter:"fade_enter__3PxoH",enterActive:"fade_enterActive__3-c75",exit:"fade_exit__1JQWk",exitActive:"fade_exitActive__18eOz"}},22:function(t,e,n){t.exports={container:"Form_container__MEAdH",item:"Form_item__16oND"}},23:function(t,e,n){t.exports={list:"ContactList_list__10P4s",item:"ContactList_item__2zHiv",contact:"ContactList_contact__1xYKD"}},43:function(t,e,n){t.exports={alert:"Alert_alert__lqu0t"}},44:function(t,e,n){t.exports={container:"FilterName_container__379KY"}},45:function(t,e,n){t.exports={Logo:"Logo_Logo__3fK01"}},47:function(t,e,n){t.exports={title:"App_title__2NpmL",center:"App_center__1QolQ"}},48:function(t,e,n){t.exports={appear:"appearSlide_appear__3OEE-",appearActive:"appearSlide_appearActive__3-PPs"}},99:function(t,e,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.6399195d.chunk.js.map